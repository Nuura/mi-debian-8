# Change log that is updated with changes
# format is:
#
# MM/DD/YYYY - x.x.x ( update type )
#
# Update Subject
#    details or update

12/29/2012 - 2.3.1 ( dataset update )
Added /lib/smartdc/lib_smartdc_scripts.cfg
  this is a central script that holds common variables and functions used in /lib/smartdc
  all scripts in /lib/smartdc now use this config file for common libs and variables

Added /lib/smartdc/debian-powerbtn-acpi-support.sh
  this is called by the acpi event when API calls reboot via /etc/acpi/events/powerbtn-acpi-support
  the Joyent specific script will log to /var/log/mesages when an API reboot or shutdown is called
  note that reset from the API will not be logged as the KVM is reset immediatly

Added symbolic links for /etc/prduct, /etc/joyent_dataset_changelog and /etc/joyent_version
  then targer files now reside in /lib/smartdc - this was done to locate Joyent specific files in one place... as much as possable

Added /lib/smartdc/joyent_linux_repo_gpg_key
  this is the public GPG key Joyent uses to validate to the Joyent Linux Repo at linux.joyent.com

Added /lib/smartdc/joyent_rc.local
   all Joyent specific calls from /etc/rc.local are not here

Added /lib/smartdc/remove_unused_kernels
   script is part of prepare image process to remove old kernels and mark current kernels as unused

Added /lib/smartdc/set-hostname
   script that is called by the dhcp client via /sbin/dhclient-script
   Host name is set in 3 ways in this order:
   1) /etc/hostname is used if exists and is not empty
   2) Mdata value 'hostname' is uses if set
   3) Hostname sent from DHCP server is used

Modifed /etc/rc.local
  removed all Joyent specific code and now call /lib/smartdc/joyent_rc.local

Modified /lib/smartdc/prepare-image
  added many QA and security checks
  updates script to use libs and vars from lib_smartdc_scripts.cfg

Updated kernel to Joyent Optimized Kernel 3.7.1

11/24/2012 - 2.2.1 ( dataset update )
Modified /lib/smartdc/prepare-image
  added permission setting for /tmp to 1777
  added removal of bash history

11/11/2012 - 2.2.0 ( dataset update )

Modified /lib/smartdc/prepare-image
   added user confirmation
   added remove lock file sub
   added sub to look for more than 1 kernel and warn to remove
   added sub to zero swap, /tmp and sero fill / to allow for better compression of zvol

Modified /lib/smartdc/run-user-script
   added check for Metadata tag run_userscript_flag = TRUE to allow userscript to run on each reboot

Added /etc/joyent_version to keep track of current version
   this file will be updated as Joyent update packages are installed that update dataset

Added /etc/joyent_dataset_changelog to log changes to dataset 
   this file will be updated as Joyent update packages are installed that update dataset
   /etc/update-motd/99-joyent-footer uses this file to format MOTD

Added /etc/update-motd/99-joyent-footer
    uses /etc/joyent_version to format Joyent's super kick ass specific MOTD

Added /lib/smartdc/disable-iptables
   checks for Metadata tag disable_iptables_flag = TRUE to flush iptables on reboot

Modified /etc/rc.local to call /lib/smartdc/disable-iptables
